import{c as E,e as N,f as A,h as j,j as T,k as z,y as D}from"./chunk-VIVXY5RX.js";import{Ba as M,Ca as f,Da as g,Db as k,Fb as S,Jb as I,L as P,Lb as R,Ma as C,Mb as V,Oa as h,R as _,S as u,Ta as O,Ua as w,Va as x,Xa as b,ea as s,fa as c,la as m,na as l,pb as v,wa as d,wb as y,xa as i}from"./chunk-CWTEAQ4G.js";function W(o,r){o&1&&(d(0,"small",10),C(1," Password must be at least 8 characters long ,must contain at least one uppercase letter, one lowercase letter, one number, and one special character "),i())}function L(o,r){if(o&1){let a=M();d(0,"form")(1,"div",4)(2,"div",5)(3,"input",6),x("ngModelChange",function(e){_(a);let n=g();return w(n.newPassword,e)||(n.newPassword=e),u(e)}),i(),m(4,W,2,0,"small",7),i()(),d(5,"div",8)(6,"input",9),f("click",function(){_(a);let e=g();return u(e.resetPasswordClick())}),i()()()}if(o&2){let a=g();s(3),O("ngModel",a.newPassword),s(),l("ngIf",a.passwordValidator()),s(2),l("disabled",a.passwordValidator())}}var X=(()=>{let r=class r{constructor(t,e,n,p){this.activeRoute=t,this.router=e,this.crudService=n,this.alertService=p,this.token="",this.newPassword=""}ngOnInit(){let t=this.activeRoute.snapshot.paramMap.get("resettoken");console.log(t),t?this.token=t:console.log("error")}passwordValidator(){let t=this.newPassword;if(!t)return null;let e=/[A-Z]/.test(t),n=/[a-z]/.test(t),p=/[0-9]/.test(t),F=/[!@#$%^&*(),.?":{}|<>]/.test(t);return e&&n&&p&&F?null:{passwordStrength:!0}}resetPasswordClick(){this.crudService.post(I.RESET_PASSWORD+this.token,{newPassword:this.newPassword}).then(t=>{console.log(t),this.alertService.successAlert(t.message),this.router.navigate(["/login"])}).catch(t=>{console.error("There was an error!",t),this.alertService.errorAlert(t.message)})}};r.\u0275fac=function(e){return new(e||r)(c(k),c(S),c(R),c(V))},r.\u0275cmp=P({type:r,selectors:[["app-reset-password"]],standalone:!0,features:[b],decls:5,vars:2,consts:[[1,"parent"],[1,"container"],[1,"title"],[4,"ngIf"],[1,"user__details"],[1,"input__box"],["type","password","placeholder","Enter New Password","name","Password",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],[1,"button"],["type","submit","value","Reset Password",3,"click","disabled"],[1,"text-danger"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),C(3),i(),m(4,L,7,3,"form",3),i()()),e&2&&(s(3),h(" ",n.token?"Reset Password":"Your reset password link is expired or invalid"," "),s(),l("ngIf",n.token))},dependencies:[y,v,D,z,E,N,A,T,j],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_nghost-%COMP%]{--main-blue: #71b7e6;--main-purple: #9b59b6;--main-grey: #ccc;--sub-grey: #d9d9d9}.parent[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;background:linear-gradient(135deg,var(--main-blue),var(--main-purple));padding:10px}.container[_ngcontent-%COMP%]{max-width:700px;width:100%;background:#fff;padding:25px 30px;border-radius:5px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px;font-weight:500;position:relative}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:before{content:"";position:absolute;height:3.5px;width:30px;background:linear-gradient(135deg,var(--main-blue),var(--main-purple));left:0;bottom:0}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .user__details[_ngcontent-%COMP%]{display:block;flex-wrap:wrap;justify-content:space-between;margin:20px 0 12px}form[_ngcontent-%COMP%]   .user__details[_ngcontent-%COMP%]   .input__box[_ngcontent-%COMP%]{margin-bottom:15px}.user__details[_ngcontent-%COMP%]   .input__box[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-weight:500;margin-bottom:5px;display:block}.user__details[_ngcontent-%COMP%]   .input__box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px;width:100%;outline:none;border-radius:5px;border:1px solid var(--main-grey);padding-left:15px;font-size:16px;border-bottom-width:2px;transition:all .3s ease}.user__details[_ngcontent-%COMP%]   .input__box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .user__details[_ngcontent-%COMP%]   .input__box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border-color:var(--main-purple)}form[_ngcontent-%COMP%]   .gender__details[_ngcontent-%COMP%]   .gender__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}form[_ngcontent-%COMP%]   .gender__details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:flex;width:80%;margin:15px 0;justify-content:start}.gender__details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.gender__details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:18px;width:18px;background:var(--sub-grey);border-radius:50%;margin:10px;border:5px solid transparent;transition:all .3s ease}#dot-1[_ngcontent-%COMP%]:checked ~ .category[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%], #dot-2[_ngcontent-%COMP%]:checked ~ .category[_ngcontent-%COMP%]   .two[_ngcontent-%COMP%], #dot-3[_ngcontent-%COMP%]:checked ~ .category[_ngcontent-%COMP%]   .three[_ngcontent-%COMP%]{border-color:var(--sub-grey);background:var(--main-purple)}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:45px;margin:45px 0}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;color:#fff;border:none;font-size:18px;font-weight:500;border-radius:5px;background:linear-gradient(135deg,var(--main-blue),var(--main-purple));transition:all .3s ease;cursor:pointer}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background:linear-gradient(-135deg,var(--main-blue),var(--main-purple));cursor:pointer}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{filter:opacity(.5);pointer-events:none}@media only screen and (max-width: 584px){.container[_ngcontent-%COMP%]{max-width:100%}form[_ngcontent-%COMP%]   .user__details[_ngcontent-%COMP%]   .input__box[_ngcontent-%COMP%]{margin-bottom:15px;width:100%}form[_ngcontent-%COMP%]   .gender__details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .user__details[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}.user__details[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}}']});let o=r;return o})();export{X as ResetPasswordComponent};

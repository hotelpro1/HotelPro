import{a as ze,b as Me,c as $e}from"./chunk-VXQUTF74.js";import{d as Ge}from"./chunk-24LOKUE6.js";import{b as be,c as Se,d as v,e as Ee,f as Fe,j as Re,k as Ie,l as Ne,m as De,n as we,o as Te,p as Ve,q as Oe,r as Ae,s as ke,w as je,x as Pe,y as qe,z as Le}from"./chunk-VIVXY5RX.js";import{b as xe}from"./chunk-SWGOWEHE.js";import{Ba as P,Ca as x,Da as C,Db as K,Fb as he,Jb as Q,L as re,La as Y,Lb as ye,Ma as l,Mb as Ce,Na as G,Oa as R,R as h,Ra as oe,S as y,Ta as me,Ua as se,Va as ue,Xa as de,Za as b,a as J,aa as W,b as le,bb as pe,cb as ce,ea as m,eb as H,fa as L,la as _,na as d,nb as _e,ob as ve,pb as ge,qa as ae,tb as U,wa as i,wb as fe,xa as t,ya as g}from"./chunk-CWTEAQ4G.js";var S=o=>({"is-invalid":o});function Ue(o,p){if(o&1){let r=P();i(0,"a",42),x("click",function(){let a=h(r).openFileSelector;return y(a())}),l(1,"Add "),i(2,"i",43),l(3," file_present"),t()()}}function Ze(o,p){o&1&&(i(0,"small",44),l(1,"First Name is required"),t())}function Be(o,p){o&1&&(i(0,"small",44),l(1,"Last Name is required"),t())}function Je(o,p){o&1&&(i(0,"small",44),l(1,"Phone is required"),t())}function We(o,p){o&1&&(i(0,"small",44),l(1,"Email is required"),t())}function Ye(o,p){o&1&&(i(0,"small",44),l(1,"Address Line 1 is required"),t())}function He(o,p){o&1&&(i(0,"small",44),l(1,"City is required"),t())}function Ke(o,p){o&1&&(i(0,"small",44),l(1,"State is required"),t())}function Qe(o,p){o&1&&(i(0,"small",44),l(1,"Country is required"),t())}function Xe(o,p){o&1&&(i(0,"small",44),l(1,"Zip Code is required"),t())}function et(o,p){if(o&1&&(i(0,"div"),g(1,"img",45),t()),o&2){let r=p.$implicit;m(),d("src",r,W)}}function tt(o,p){if(o&1&&(i(0,"li",46)(1,"div",8)(2,"div"),l(3),t(),i(4,"div"),l(5),t()()()),o&2){let r,n,a=p.$implicit,e=p.index;d("formGroupName",e),m(3),R(" ",a==null||(r=a.get("roomtype"))==null?null:r.value," "),m(2),R(" ",a==null||(n=a.get("roomCost"))==null?null:n.value," ")}}function it(o,p){if(o&1){let r=P();i(0,"a",42),x("click",function(){let a=h(r).openFileSelector;return y(a())}),l(1,"Add "),i(2,"i",43),l(3," file_present"),t()()}}function nt(o,p){if(o&1){let r=P();i(0,"button",63),x("click",function(){h(r);let a=C(3).index,e=C();return y(e.addGuest(a))}),i(1,"i",64),l(2," add "),t(),l(3," Add Guest "),t()}}function lt(o,p){if(o&1){let r=P();i(0,"button",63),x("click",function(){h(r);let a=C().index,e=C(2).index,s=C();return y(s.removeGuest(e,a))}),i(1,"i",64),l(2," remove "),t(),l(3," Remove Guest "),t()}}function rt(o,p){o&1&&(i(0,"small",44),l(1,"First Name is required"),t())}function at(o,p){o&1&&(i(0,"small",44),l(1,"Last Name is required"),t())}function ot(o,p){o&1&&(i(0,"small",44),l(1,"Phone is required"),t())}function mt(o,p){o&1&&(i(0,"small",44),l(1,"Email is required"),t())}function st(o,p){o&1&&(i(0,"small",44),l(1,"Address Line 1 is required"),t())}function ut(o,p){o&1&&(i(0,"small",44),l(1,"City is required"),t())}function dt(o,p){o&1&&(i(0,"small",44),l(1,"State is required"),t())}function pt(o,p){o&1&&(i(0,"small",44),l(1,"Country is required"),t())}function ct(o,p){o&1&&(i(0,"small",44),l(1,"Zip Code is required"),t())}function _t(o,p){if(o&1&&(i(0,"div"),g(1,"img",45),t()),o&2){let r=p.$implicit;m(),d("src",r,W)}}function vt(o,p){if(o&1){let r=P();i(0,"div",55)(1,"div",56)(2,"div",8)(3,"div")(4,"label",29),l(5),t()(),i(6,"div")(7,"div",57)(8,"ngx-file-drop",10),x("onFileDrop",function(a){let e=h(r).$implicit,s=C(3);return y(s.dropped(a,e))}),_(9,it,4,0,"ng-template",11),t(),i(10,"div",58)(11,"input",59),x("click",function(a){let e=h(r).$implicit,s=C(3);return y(s.sameAsCustomer(e,a))}),t(),i(12,"label",60),l(13,"Same as Customer"),t()()()()(),g(14,"hr",12),_(15,nt,4,0,"button",61)(16,lt,4,0,"button",61),t(),i(17,"div",13)(18,"label",14),l(19," First Name "),t(),g(20,"input",15),_(21,rt,2,0,"small",16),t(),i(22,"div",13)(23,"label",14),l(24," Last Name"),t(),g(25,"input",17),_(26,at,2,0,"small",16),t(),i(27,"div",13)(28,"label",14),l(29," Phone"),t(),g(30,"input",62),_(31,ot,2,0,"small",16),t(),i(32,"div",13)(33,"label",14),l(34," Email"),t(),g(35,"input",19),_(36,mt,2,0,"small",16),t(),i(37,"div",13)(38,"label",14),l(39,"Address Line 1"),t(),g(40,"input",20),_(41,st,2,0,"small",16),t(),i(42,"div",13)(43,"label",14),l(44,"Address Line 2"),t(),g(45,"input",21),t(),i(46,"div",13)(47,"label",14),l(48,"City"),t(),g(49,"input",22),_(50,ut,2,0,"small",16),t(),i(51,"div",13)(52,"label",14),l(53,"State"),t(),g(54,"input",23),_(55,dt,2,0,"small",16),t(),i(56,"div",13)(57,"label",14),l(58,"Country"),t(),g(59,"input",24),_(60,pt,2,0,"small",16),t(),i(61,"div",13)(62,"label",14),l(63,"Zip Code"),t(),g(64,"input",25),_(65,ct,2,0,"small",16),t(),i(66,"div",13),_(67,_t,2,1,"div",26),t()()}if(o&2){let r,n,a,e,s,c,f,E,F,I,N,D,w,T,V,O,A,k,q,u=p.$implicit,j=p.index;d("formGroupName",j),m(5),R("Guest Information ",j+1," "),m(10),d("ngIf",j==0),m(),d("ngIf",j>0),m(4),d("ngClass",b(23,S,(((r=u.get("firstName"))==null?null:r.dirty)||((r=u.get("firstName"))==null?null:r.touched))&&((r=u.get("firstName"))==null?null:r.invalid))),m(),d("ngIf",(((n=u.get("firstName"))==null?null:n.dirty)||((n=u.get("firstName"))==null?null:n.touched))&&((n=u.get("firstName"))==null?null:n.invalid)),m(4),d("ngClass",b(25,S,(((a=u.get("lastName"))==null?null:a.dirty)||((a=u.get("lastName"))==null?null:a.touched))&&((a=u.get("lastName"))==null?null:a.invalid))),m(),d("ngIf",(((e=u.get("lastName"))==null?null:e.dirty)||((e=u.get("lastName"))==null?null:e.touched))&&((e=u.get("lastName"))==null?null:e.invalid)),m(4),d("ngClass",b(27,S,(((s=u.get("phone"))==null?null:s.dirty)||((s=u.get("phone"))==null?null:s.touched))&&((s=u.get("phone"))==null?null:s.invalid))),m(),d("ngIf",(((c=u.get("phone"))==null?null:c.dirty)||((c=u.get("phone"))==null?null:c.touched))&&((c=u.get("phone"))==null?null:c.invalid)),m(4),d("ngClass",b(29,S,(((f=u.get("email"))==null?null:f.dirty)||((f=u.get("email"))==null?null:f.touched))&&((f=u.get("email"))==null?null:f.invalid))),m(),d("ngIf",(((E=u.get("email"))==null?null:E.dirty)||((E=u.get("email"))==null?null:E.touched))&&((E=u.get("email"))==null?null:E.invalid)),m(4),d("ngClass",b(31,S,(((F=u.get("addressLine1"))==null?null:F.dirty)||((F=u.get("addressLine1"))==null?null:F.touched))&&((F=u.get("addressLine1"))==null?null:F.invalid))),m(),d("ngIf",(((I=u.get("addressLine1"))==null?null:I.dirty)||((I=u.get("addressLine1"))==null?null:I.touched))&&((I=u.get("addressLine1"))==null?null:I.invalid)),m(8),d("ngClass",b(33,S,(((N=u.get("city"))==null?null:N.dirty)||((N=u.get("city"))==null?null:N.touched))&&((N=u.get("city"))==null?null:N.invalid))),m(),d("ngIf",(((D=u.get("city"))==null?null:D.dirty)||((D=u.get("city"))==null?null:D.touched))&&((D=u.get("city"))==null?null:D.invalid)),m(4),d("ngClass",b(35,S,(((w=u.get("state"))==null?null:w.dirty)||((w=u.get("state"))==null?null:w.touched))&&((w=u.get("state"))==null?null:w.invalid))),m(),d("ngIf",(((T=u.get("state"))==null?null:T.dirty)||((T=u.get("state"))==null?null:T.touched))&&((T=u.get("state"))==null?null:T.invalid)),m(4),d("ngClass",b(37,S,(((V=u.get("country"))==null?null:V.dirty)||((V=u.get("country"))==null?null:V.touched))&&((V=u.get("country"))==null?null:V.invalid))),m(),d("ngIf",(((O=u.get("country"))==null?null:O.dirty)||((O=u.get("country"))==null?null:O.touched))&&((O=u.get("country"))==null?null:O.invalid)),m(4),d("ngClass",b(39,S,(((A=u.get("zipCode"))==null?null:A.dirty)||((A=u.get("zipCode"))==null?null:A.touched))&&((A=u.get("zipCode"))==null?null:A.invalid))),m(),d("ngIf",(((k=u.get("zipCode"))==null?null:k.dirty)||((k=u.get("zipCode"))==null?null:k.touched))&&((k=u.get("zipCode"))==null?null:k.invalid)),m(2),d("ngForOf",(q=u.get("documents"))==null?null:q.value)}}function gt(o,p){if(o&1&&(i(0,"div",4)(1,"div",52)(2,"div",53),_(3,vt,68,41,"div",54),t()()()),o&2){let r=C().$implicit,n=C();m(3),d("ngForOf",n.getGuests(r).controls)}}function ft(o,p){if(o&1&&(i(0,"option",70),l(1),t()),o&2){let r=p.$implicit;d("value",r.id),m(),R(" ",r.roomName," ")}}function ht(o,p){if(o&1){let r=P();i(0,"div",27)(1,"div",28)(2,"label",29),l(3,"Room Details"),t(),i(4,"div",30)(5,"label",14),l(6,"Room:"),t(),i(7,"select",65),_(8,ft,2,2,"option",66),i(9,"option",67),l(10,"assign"),t()(),i(11,"label",68),l(12," Room Price : "),i(13,"span",31),l(14),t()(),g(15,"br"),i(16,"label",14),l(17," Room Cost : "),i(18,"a",69),x("click",function(){h(r);let a=C(),e=a.$implicit,s=a.index,c=C(),f=Y(107);return y(c.openUpdateRate(f,e==null?null:e.value,s))}),l(19),t()()()()()}if(o&2){let r,n,a,e=C(),s=e.$implicit,c=e.index,f=C();m(8),d("ngForOf",f.filterRooms(f.roomTypeRooms[(r=s.get("roomTypeId"))==null?null:r.value],c)),m(6),R("",s==null||(n=s.get("roomPrice"))==null||n.value==null?null:n.value.toFixed(2)," "),m(5),R(" ",s==null||(a=s.get("roomCost"))==null||a.value==null?null:a.value.toFixed(2)," ")}}function yt(o,p){if(o&1){let r=P();i(0,"div",47)(1,"div",7)(2,"div",48),x("click",function(){let a,e=h(r).$implicit;return y((a=e.get("isDetailsVisiable"))==null?null:a.setValue(!((a=e.get("isDetailsVisiable"))!=null&&a.value)))}),i(3,"h5",29),l(4),t(),i(5,"div")(6,"i",49),l(7," arrow_forward_ios "),t()()(),g(8,"hr",12),t(),_(9,gt,4,1,"div",50)(10,ht,20,3,"div",51),t()}if(o&2){let r,n,a,e,s=p.$implicit,c=p.index;d("formGroupName",c),m(4),oe(" Reservation Details of ( ",s==null||(r=s.get("roomtype"))==null?null:r.value,"- ",s==null||(r=s.get("rateName"))==null?null:r.value,") ","Adults/Childs:"+((r=s.get("adultOccupant"))==null?null:r.value)+"/"+((r=s.get("adultOccupant"))==null?null:r.value)," ",((r=s.get("extraAdults"))==null?null:r.value)>0||((r=s.get("extraChilds"))==null?null:r.value)>0?"Extra Adults/Childs:"+((r=s.get("extraAdults"))==null?null:r.value)+"/"+((r=s.get("extraChilds"))==null?null:r.value):""," "),m(2),ae((n=s.get("isDetailsVisiable"))!=null&&n.value?"    rotate: 270deg;":"    rotate: 90deg;"),m(3),d("ngIf",(a=s.get("isDetailsVisiable"))==null?null:a.value),m(),d("ngIf",(e=s.get("isDetailsVisiable"))==null?null:e.value)}}function Ct(o,p){if(o&1&&(i(0,"tr")(1,"th",76),l(2),pe(3,"date"),t(),i(4,"td",78),l(5),t()()),o&2){let r=p.$implicit;m(2),G(ce(3,2,r.date)),m(3),R(" ",r.baseRate," ")}}function xt(o,p){if(o&1&&(i(0,"tr")(1,"td"),l(2,"Extra Adults"),t(),i(3,"td",78),l(4),t(),i(5,"td",78),l(6),t()()),o&2){let r=C(2);m(4),R(" ",r.updateDateRateObj.extraAdults+"*"+r.updateDateRateObj.dateRate[0].adultRate+"*"+r.updateDateRateObj.dateRate.length+" Night"," "),m(2),R(" ",r.updateDateRateObj.extraAdults*r.updateDateRateObj.dateRate[0].adultRate*r.updateDateRateObj.dateRate.length," ")}}function bt(o,p){if(o&1&&(i(0,"tr")(1,"td"),l(2,"Extra Childs"),t(),i(3,"td",78),l(4),t(),i(5,"td",78),l(6),t()()),o&2){let r=C(2);m(4),R(" ",r.updateDateRateObj.extraChilds+"*"+r.updateDateRateObj.dateRate[0].childRate+"*"+r.updateDateRateObj.dateRate.length+" Night"," "),m(2),R(" ",r.updateDateRateObj.extraChilds*r.updateDateRateObj.dateRate[0].childRate*r.updateDateRateObj.dateRate.length," ")}}function St(o,p){if(o&1){let r=P();i(0,"div",71)(1,"h4",72),l(2,"Rate Update"),t(),i(3,"button",73,2),x("click",function(){let a=h(r).$implicit;return y(a.close(!1))}),t()(),i(5,"div",74)(6,"table",75)(7,"thead")(8,"tr")(9,"th",76),l(10,"DATE"),t(),i(11,"th"),l(12,"ESTIMATED COST"),t()()(),i(13,"tbody"),_(14,Ct,6,4,"tr",26)(15,xt,7,2,"tr",77)(16,bt,7,2,"tr",77),i(17,"tr")(18,"td",76),l(19),t(),i(20,"td",78),l(21),t()(),i(22,"tr",79)(23,"td",78),l(24),t(),i(25,"td"),l(26,"Total Cost"),t(),i(27,"td",78)(28,"input",80),ue("ngModelChange",function(a){h(r);let e=C();return se(e.updateDateRateObj.roomCost,a)||(e.updateDateRateObj.roomCost=a),y(a)}),t()()()()(),i(29,"div",81)(30,"button",82),x("click",function(){h(r);let a=C();return y(a.calculateRate())}),l(31," Calculate "),t(),i(32,"button",83),x("click",function(){let a=h(r).$implicit;return y(a.close(!0))}),l(33,"Save"),t(),i(34,"button",84),x("click",function(){let a=h(r).$implicit;return y(a.close(!1))}),l(35," cancel "),t()()()}if(o&2){let r=C();m(14),d("ngForOf",r.updateDateRateObj.dateRate),m(),d("ngIf",r.updateDateRateObj.extraAdults>0),m(),d("ngIf",r.updateDateRateObj.extraChilds),m(3),R(" Tax Summary(",r.updateDateRateObj.taxPercentage+" %",") "),m(2),R(" ",r.updateDateRateObj.taxPercentage*r.updateDateRateObj.roomPrice/100," "),m(3),R(" Total Price ",r.updateDateRateObj.roomPrice," "),m(4),me("ngModel",r.updateDateRateObj.roomCost)}}function Et(o,p){if(o&1){let r=P();i(0,"div",74)(1,"h6",72),l(2," Are you sure want to countinue without payment ? "),t()(),i(3,"div",85)(4,"button",86),x("click",function(){h(r);let a=C();return y(a.goToPayment())}),l(5," Go to Payment "),t(),i(6,"button",87),x("click",function(){let a=h(r).$implicit;return y(a.close(!1))}),l(7," No "),t(),i(8,"button",86),x("click",function(){let a=h(r).$implicit;return y(a.close(!0))}),l(9," Yes "),t()()}}var qt=(()=>{let p=class p{constructor(n,a,e,s,c,f,E,F){this.fb=n,this.modalService=a,this.crudService=e,this.alertService=s,this.authService=c,this.activeRoute=f,this.router=E,this.route=F,this.propertyUnitId="",this.roomsData=[],this.updateDateRateObj={},this.files=[]}ngOnInit(){this.propertyUnitId=this.authService.getUserInfo()?.user?.propertyUnitId,this.initializeForms(),this.loadData()}initializeForms(){this.reservationForm=this.fb.group({reservations:this.fb.array([])}),this.groupForm=this.fb.group({arrival:[this.formatDate(new Date),v.required],departure:[this.formatDate(new Date),v.required],adults:[2,[v.min(1),v.required]],childs:[0,v.required],totalCost:[0],totalPrice:[0],firstName:["",[v.required,v.minLength(2)]],lastName:["",[v.required,v.minLength(2)]],email:["",[v.required,v.email]],phone:[""],addressLine1:[""],addressLine2:[""],country:[""],city:[""],state:["",[v.pattern(/^[A-Za-z\s]+$/)]],zipCode:[""],documents:[]})}loadData(){let n=sessionStorage.getItem("resdata");if(n){let s=JSON.parse(n);this.groupForm.patchValue(s.groupDetails),this.populateReservations(s.reservationDetails),this.roomTypeRooms=s.roomTypeRooms}let a=sessionStorage.getItem("reservationsArray");if(a){let s=JSON.parse(a);this.reservations.clear(),s.forEach(c=>{this.reservations.push(this.createReservation(c))})}let e=sessionStorage.getItem("groupDetails");if(e){let s=JSON.parse(e);this.groupForm.patchValue(s)}}formatDate(n){return new U("en-US").transform(n,"yyyy-MM-dd")}createReservation(n){return this.fb.group({roomTypeId:[n?.roomTypeId||"",v.required],roomId:[n?.roomId||"",v.required],rateplanId:[n?.rateplanId||"",v.required],rateName:[n?.rateName||"",v.required],roomtype:[n?.roomtype||"",v.required],adultOccupant:[n?.adultOccupant||0,v.required],childOccupant:[n?.childOccupant||0],extraAdults:[n?.extraAdults||0],extraChilds:[n?.extraChilds||0],taxPercentage:[n?.taxPercentage||0],roomPrice:[n?.roomPrice||0,v.required],roomCost:[n?.roomCost||0,v.required],images:[n?.images||[]],dateRate:this.fb.array(n?this.createDateRates(n.dateRate):[this.createDateRate()]),guests:this.fb.array(n?.guests?this.createGuests(n.guests):[this.createGuest()]),isDetailsVisiable:[!0]})}createDateRates(n){return n.map(a=>this.createDateRate(a))}createDateRate(n){return this.fb.group({date:[n?.date||"",v.required],baseRate:[n?.baseRate||"",v.required],adultRate:[n?.adultRate||"",v.required],childRate:[n?.childRate||"",v.required]})}createGuests(n){return n.map(a=>this.createGuest(a))}createGuest(n){return this.fb.group({firstName:[n?.firstName||"",v.required],lastName:[n?.lastName||"",v.required],email:[n?.email||"",[v.required,v.email]],phone:[n?.phone||""],addressLine1:[n?.addressLine1||""],addressLine2:[n?.addressLine2||""],country:[n?.country||""],city:[n?.city||""],state:[n?.state||""],zipCode:[n?.zipCode||""],isSameAsCustomer:[!1],documents:[]})}populateReservations(n){let a=this.reservationForm.get("reservations");n.forEach(e=>a.push(this.createReservation(e)))}get reservations(){return this.reservationForm.get("reservations")}addReservation(){this.reservations.push(this.createReservation())}getDateRates(n){return n.get("dateRate")}getGuests(n){return n.get("guests")}addGuest(n){this.getGuests(this.reservations.at(n)).push(this.createGuest())}removeGuest(n,a){let e=this.getGuests(this.reservations.at(n));e.length>1&&e.removeAt(a)}sameAsCustomer(n,a){a.target.checked&&n.patchValue(this.groupForm.value)}filterRooms(n,a){return this.reservationForm.get("reservations")?.value.forEach((e,s)=>{a!=s&&(n=n.filter(c=>c.id!=e.roomId))}),n}openUpdateRate(n,a,e){this.updateDateRateObj=J({},a),this.modalService.open(n).result.then(s=>{if(s){let c=this.reservations.at(e).value;this.reservations.at(e).patchValue(this.updateDateRateObj),this.groupForm.controls.totalCost.patchValue(this.groupForm.controls.totalCost.value-c.roomCost+this.updateDateRateObj.roomCost),this.groupForm.controls.totalPrice.patchValue(this.groupForm.controls.totalPrice.value-c.roomPrice+this.updateDateRateObj.roomPrice)}})}calculateRate(){this.updateDateRateObj.roomPrice=Math.round(this.updateDateRateObj.roomCost/1.11*100)/100;let n=Math.round(this.updateDateRateObj.roomPrice/this.updateDateRateObj.dateRate.length*100)/100;this.updateDateRateObj.dateRate.forEach(a=>{a.baseRate=n})}goToPayment(){sessionStorage.setItem("reservationsArray",JSON.stringify(this.reservationForm.get("reservations")?.value)),sessionStorage.setItem("groupDetails",JSON.stringify(this.groupForm.value)),this.router.navigate(["/reservation-payment"]),this.modalService.dismissAll()}onReserve(n){this.modalService.open(n).result.then(a=>{if(a){let e={propertyUnitId:this.propertyUnitId,reservationsArray:this.reservationForm.get("reservations")?.value,groupDetails:le(J({},this.groupForm.value),{totalTax:this.groupForm.get("totalCost")?.value-this.groupForm.get("totalPrice")?.value,totalBalance:-this.groupForm.get("totalCost")?.value,totalPayment:0,totalDeposit:0})};this.crudService.post(Q.CREATE_RESERVATION,e).then(s=>{console.log(s),this.alertService.successAlert("Reservation created successfully"),this.router.navigate(["/guest-folio/"+s?.data?._id])}).catch(s=>{this.alertService.errorAlert(s?.error?.message||"An error occurred"),console.error(s)})}})}dropped(n,a){this.files=n;let e=new FormData;for(let s of n)if(s.fileEntry.isFile)s.fileEntry.file(f=>{e.append("uploadedImages",f,s.relativePath),n.indexOf(s)===n.length-1&&this.uploadPhotos(e,a)});else{let c=s.fileEntry;console.log(s.relativePath,c)}}uploadPhotos(n,a){this.crudService.post(Q.UPLOAD_RESERVATION_IMAGES,n).then(e=>{console.log(e),e?.data?.images?.length&&a.patchValue({documents:e?.data?.images})}).catch(e=>{this.alertService.errorAlert(e?.error?.message||"An error occurred"),console.error(e)})}fileOver(n){console.log(n)}fileLeave(n){console.log(n)}};p.\u0275fac=function(a){return new(a||p)(L(Pe),L(Ge),L(ye),L(Ce),L(xe),L(K),L(he),L(K))},p.\u0275cmp=re({type:p,selectors:[["app-reservation-info"]],standalone:!0,features:[de],decls:110,vars:51,consts:[["RateUpdate",""],["confirmReservation",""],["closeButton",""],[1,"m-3","row","g-0"],[1,"col-9"],[1,"container_form","p-3","m-2","rounded",3,"formGroup"],[1,"row","row-cols-1","row-cols-md-2"],[1,"col-md-12"],[1,"d-flex","justify-content-between"],[1,"form-label","fs-3","fw-semibold"],["dropZoneClassName","my-style","contentClassName","my-style",3,"onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"m-0"],[1,"col","mt-3"],[1,"form-label"],["type","text","formControlName","firstName","placeholder","Enter  First Name",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","text","formControlName","lastName","placeholder","Enter  Last Name",1,"form-control",3,"ngClass"],["type","tel","formControlName","phone","placeholder","Enter  Phone","maxlength","10",1,"form-control",3,"ngClass"],["type","text","formControlName","email","placeholder","Enter  Email",1,"form-control",3,"ngClass"],["type","text","formControlName","addressLine1","placeholder","Enter Address Line 1",1,"form-control",3,"ngClass"],["type","text","formControlName","addressLine2","placeholder","Enter Address Line 2",1,"form-control"],["type","text","formControlName","city","placeholder","Enter City",1,"form-control",3,"ngClass"],["type","text","formControlName","state","placeholder","Enter State",1,"form-control",3,"ngClass"],["type","text","formControlName","country","placeholder","Enter Country",1,"form-control",3,"ngClass"],["type","text","formControlName","zipCode","placeholder","Enter Zip Code",1,"form-control",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"col-3"],[1,"card","container_form","p-3","m-2","rounded"],[1,"form-label","fw-semibold"],[1,"card-body"],[1,"fw-semibold"],[3,"formGroup"],["formArrayName","reservations",1,"list-group","list-group-flush"],["class","list-group-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-label","w-100"],[1,"",3,"formGroup"],["formArrayName","reservations"],["class","m-3 row g-0",3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mb-2"],[1,"btn","btn-primary","mt-2","me-2",3,"click","disabled"],[1,"btn","btn-primary","mt-2","ms-2",3,"click","disabled"],[1,"card-link",2,"cursor","pointer",3,"click"],[1,"material-symbols-rounded",2,"vertical-align","middle","font-size","20px"],[1,"text-danger"],["alt","img",2,"height","100px","width","100px",3,"src"],[1,"list-group-item",3,"formGroupName"],[1,"m-3","row","g-0",3,"formGroupName"],[1,"d-flex","justify-content-between","container_form","p-3","m-2","rounded",2,"cursor","pointer",3,"click"],[1,"material-symbols-rounded","ms-2",2,"vertical-align","middle","cursor","pointer"],["class","col-9",4,"ngIf"],["class","col-3",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-2","container_form","p-3","m-2","rounded"],["formArrayName","guests",1,"col-md-12"],["class","row row-cols-1 row-cols-md-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","row-cols-1","row-cols-md-2",3,"formGroupName"],[1,"col-md-12","mt-2"],[1,"d-flex","ms-2"],[1,"form-check","ms-2"],["type","checkbox","formControlName","isSameAsCustomer",1,"form-check-input",3,"click"],[1,"form-check-label"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["type","text","formControlName","phone","placeholder","Enter  Phone","maxlength","10",1,"form-control",3,"ngClass"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"material-symbols-rounded",2,"vertical-align","middle"],["formControlName","roomId",1,"form-control",2,"appearance","auto"],[3,"value",4,"ngFor","ngForOf"],["value","assign"],[1,"form-label","mt-2"],[1,"link",3,"click"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table"],["colspan","2"],[4,"ngIf"],[1,"text-center"],[2,"vertical-align","middle"],["type","number",1,"form-control","custom_input","text_center","rate_input",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","pb-3"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","light_button","button","ml-2",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(a,e){if(a&1){let s=P();i(0,"div",3)(1,"div",4)(2,"form",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"p",9),l(7,"Customer Details"),t(),i(8,"ngx-file-drop",10),x("onFileDrop",function(f){return h(s),y(e.dropped(f,e.groupForm))}),_(9,Ue,4,0,"ng-template",11),t()(),g(10,"hr",12),t(),i(11,"div",13)(12,"label",14),l(13," First Name"),t(),g(14,"input",15),_(15,Ze,2,0,"small",16),t(),i(16,"div",13)(17,"label",14),l(18," Last Name"),t(),g(19,"input",17),_(20,Be,2,0,"small",16),t(),i(21,"div",13)(22,"label",14),l(23," Phone"),t(),g(24,"input",18),_(25,Je,2,0,"small",16),t(),i(26,"div",13)(27,"label",14),l(28," Email"),t(),g(29,"input",19),_(30,We,2,0,"small",16),t(),i(31,"div",13)(32,"label",14),l(33,"Address Line 1"),t(),g(34,"input",20),_(35,Ye,2,0,"small",16),t(),i(36,"div",13)(37,"label",14),l(38,"Address Line 2"),t(),g(39,"input",21),t(),i(40,"div",13)(41,"label",14),l(42,"City"),t(),g(43,"input",22),_(44,He,2,0,"small",16),t(),i(45,"div",13)(46,"label",14),l(47,"State"),t(),g(48,"input",23),_(49,Ke,2,0,"small",16),t(),i(50,"div",13)(51,"label",14),l(52,"Country"),t(),g(53,"input",24),_(54,Qe,2,0,"small",16),t(),i(55,"div",13)(56,"label",14),l(57,"Zip Code"),t(),g(58,"input",25),_(59,Xe,2,0,"small",16),t(),i(60,"div",13),_(61,et,2,1,"div",26),t()()()(),i(62,"div",27)(63,"div",28)(64,"label",29),l(65,"Reservation Summary"),t(),i(66,"div",30)(67,"label",14),l(68," CheckIn Date : "),i(69,"span",31),l(70),t()(),i(71,"label",14),l(72," CheckOut Date : "),i(73,"span",31),l(74),t()(),i(75,"label",14),l(76," Adults: "),i(77,"span",31),l(78),t(),l(79," Childs: "),i(80,"span",31),l(81),t()()(),i(82,"form",32)(83,"ul",33),_(84,tt,6,3,"li",34),t()(),i(85,"div",30)(86,"label",35),l(87," Total Price : "),i(88,"span",31),l(89),t()(),i(90,"label",35),l(91," Total Tax : "),i(92,"span",31),l(93),t()(),i(94,"label",14),l(95," Total Cost : "),i(96,"span",31),l(97),t()()()()()(),i(98,"form",36)(99,"div",37),_(100,yt,11,9,"div",38),t()(),i(101,"div",39)(102,"button",40),x("click",function(){h(s);let f=Y(109);return y(e.onReserve(f))}),l(103," Reserve "),t(),i(104,"button",41),x("click",function(){return h(s),y(e.goToPayment())}),l(105," Payment "),t()(),_(106,St,36,7,"ng-template",null,0,H)(108,Et,10,0,"ng-template",null,1,H)}if(a&2){let s,c,f,E,F,I,N,D,w,T,V,O,A,k,q,u,j,z,X,ee,te,ie,ne,Z,M,$,B;m(2),d("formGroup",e.groupForm),m(12),d("ngClass",b(33,S,(((s=e.groupForm.get("firstName"))==null?null:s.dirty)||((s=e.groupForm.get("firstName"))==null?null:s.touched))&&((s=e.groupForm.get("firstName"))==null?null:s.invalid))),m(),d("ngIf",(((c=e.groupForm.get("firstName"))==null?null:c.dirty)||((c=e.groupForm.get("firstName"))==null?null:c.touched))&&((c=e.groupForm.get("firstName"))==null?null:c.invalid)),m(4),d("ngClass",b(35,S,(((f=e.groupForm.get("lastName"))==null?null:f.dirty)||((f=e.groupForm.get("lastName"))==null?null:f.touched))&&((f=e.groupForm.get("lastName"))==null?null:f.invalid))),m(),d("ngIf",(((E=e.groupForm.get("lastName"))==null?null:E.dirty)||((E=e.groupForm.get("lastName"))==null?null:E.touched))&&((E=e.groupForm.get("lastName"))==null?null:E.invalid)),m(4),d("ngClass",b(37,S,(((F=e.groupForm.get("phone"))==null?null:F.dirty)||((F=e.groupForm.get("phone"))==null?null:F.touched))&&((F=e.groupForm.get("phone"))==null?null:F.invalid))),m(),d("ngIf",(((I=e.groupForm.get("phone"))==null?null:I.dirty)||((I=e.groupForm.get("phone"))==null?null:I.touched))&&((I=e.groupForm.get("phone"))==null?null:I.invalid)),m(4),d("ngClass",b(39,S,(((N=e.groupForm.get("email"))==null?null:N.dirty)||((N=e.groupForm.get("email"))==null?null:N.touched))&&((N=e.groupForm.get("email"))==null?null:N.invalid))),m(),d("ngIf",(((D=e.groupForm.get("email"))==null?null:D.dirty)||((D=e.groupForm.get("email"))==null?null:D.touched))&&((D=e.groupForm.get("email"))==null?null:D.invalid)),m(4),d("ngClass",b(41,S,(((w=e.groupForm.get("addressLine1"))==null?null:w.dirty)||((w=e.groupForm.get("addressLine1"))==null?null:w.touched))&&((w=e.groupForm.get("addressLine1"))==null?null:w.invalid))),m(),d("ngIf",(((T=e.groupForm.get("addressLine1"))==null?null:T.dirty)||((T=e.groupForm.get("addressLine1"))==null?null:T.touched))&&((T=e.groupForm.get("addressLine1"))==null?null:T.invalid)),m(8),d("ngClass",b(43,S,(((V=e.groupForm.get("city"))==null?null:V.dirty)||((V=e.groupForm.get("city"))==null?null:V.touched))&&((V=e.groupForm.get("city"))==null?null:V.invalid))),m(),d("ngIf",(((O=e.groupForm.get("city"))==null?null:O.dirty)||((O=e.groupForm.get("city"))==null?null:O.touched))&&((O=e.groupForm.get("city"))==null?null:O.invalid)),m(4),d("ngClass",b(45,S,(((A=e.groupForm.get("state"))==null?null:A.dirty)||((A=e.groupForm.get("state"))==null?null:A.touched))&&((A=e.groupForm.get("state"))==null?null:A.invalid))),m(),d("ngIf",(((k=e.groupForm.get("state"))==null?null:k.dirty)||((k=e.groupForm.get("state"))==null?null:k.touched))&&((k=e.groupForm.get("state"))==null?null:k.invalid)),m(4),d("ngClass",b(47,S,(((q=e.groupForm.get("country"))==null?null:q.dirty)||((q=e.groupForm.get("country"))==null?null:q.touched))&&((q=e.groupForm.get("country"))==null?null:q.invalid))),m(),d("ngIf",(((u=e.groupForm.get("country"))==null?null:u.dirty)||((u=e.groupForm.get("country"))==null?null:u.touched))&&((u=e.groupForm.get("country"))==null?null:u.invalid)),m(4),d("ngClass",b(49,S,(((j=e.groupForm.get("zipCode"))==null?null:j.dirty)||((j=e.groupForm.get("zipCode"))==null?null:j.touched))&&((j=e.groupForm.get("zipCode"))==null?null:j.invalid))),m(),d("ngIf",(((z=e.groupForm.get("zipCode"))==null?null:z.dirty)||((z=e.groupForm.get("zipCode"))==null?null:z.touched))&&((z=e.groupForm.get("zipCode"))==null?null:z.invalid)),m(2),d("ngForOf",(X=e.groupForm.get("documents"))==null?null:X.value),m(9),G((ee=e.groupForm.get("arrival"))==null?null:ee.value),m(4),G((te=e.groupForm.get("departure"))==null?null:te.value),m(4),G((ie=e.groupForm.get("adults"))==null?null:ie.value),m(3),G((ne=e.groupForm.get("childs"))==null?null:ne.value),m(),d("formGroup",e.reservationForm),m(2),d("ngForOf",e.reservations.controls),m(5),G((Z=e.groupForm.get("totalPrice"))==null||Z.value==null?null:Z.value.toFixed(2)),m(4),G((((M=e.groupForm.get("totalCost"))==null?null:M.value)||0-(($=e.groupForm.get("totalPrice"))==null?null:$.value)||0)==null?null:(((M=M)==null?null:M.value)||0-(($=$)==null?null:$.value)||0).toFixed(2)),m(4),G((B=e.groupForm.get("totalCost"))==null||B.value==null?null:B.value.toFixed(2)),m(),d("formGroup",e.reservationForm),m(2),d("ngForOf",e.reservations.controls),m(2),d("disabled",e.groupForm.invalid||e.reservationForm.invalid),m(2),d("disabled",e.groupForm.invalid||e.reservationForm.invalid)}},dependencies:[qe,Ie,Ae,ke,Se,Ne,be,Oe,Ee,Fe,je,Re,Le,De,Ve,we,Te,fe,_e,ve,ge,U,$e,Me,ze]});let o=p;return o})();export{qt as ReservationInfoComponent};

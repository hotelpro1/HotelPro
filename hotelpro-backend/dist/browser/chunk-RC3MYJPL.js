import{a as T,b as U}from"./chunk-SWGOWEHE.js";import{Ba as y,Ca as C,Da as D,Fb as A,Jb as S,L as f,Lb as M,Ma as i,Mb as w,Na as d,Oa as v,R as b,S as I,Xa as P,ea as o,fa as m,ta as x,ua as _,va as E,wa as e,xa as t,ya as g}from"./chunk-CWTEAQ4G.js";function O(s,l){if(s&1){let c=y();e(0,"tr")(1,"th",13),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),g(11,"td"),e(12,"td")(13,"button",14),C("click",function(){let a=b(c).$implicit,n=D();return I(n.login(a.email))}),i(14,"Login"),t()()()}if(s&2){let c=l.$implicit,r=l.$index;o(2),d(r+1),o(2),d(c.propertyName),o(2),d(c.clientName),o(2),d(c.phone),o(2),d(c.isVIP?"VIP":"")}}var B=(()=>{let l=class l{constructor(r,a,n,p,h){this.authService=r,this.userInfoService=a,this.router=n,this.crudService=p,this.alertService=h}ngOnInit(){this.userInfo=this.authService.getUserInfo()?.user,console.log(this.userInfo),this.userInfo?.userType!="superadmin"&&this.authService.logout(),this.crudService.post(S.GET_SUPERADMIN_DASHBOARD,{}).then(r=>{this.dashboardData=r.data,console.log(this.dashboardData)}).catch(r=>{this.alertService.errorAlert(r?.error?.message||r.message)})}login(r){this.crudService.post(S.CLIENT_LOGIN_BY_SUPERADMIN,{email:r}).then(a=>{let n=a.data;this.userInfoService.setUserInfo(n),this.router.navigate(["/client-dashboard"])}).catch(a=>{this.alertService.errorAlert(a?.error?.message||a.message)})}};l.\u0275fac=function(a){return new(a||l)(m(U),m(T),m(A),m(M),m(w))},l.\u0275cmp=f({type:l,selectors:[["app-superadmin-dashboard"]],standalone:!0,features:[P],decls:56,vars:3,consts:[[1,"container-fluid","my-4"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6","mb-4"],[1,"card","shadow"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"row","mb-4"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"table","table-striped","text-center"],["scope","col"],["scope","row"],[1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(a,n){if(a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),i(6,"Total Client"),t(),e(7,"p",6),i(8),t()()()(),e(9,"div",2)(10,"div",3)(11,"div",4)(12,"h5",5),i(13,"Total Property Unit"),t(),e(14,"p",6),i(15),t()()()(),e(16,"div",2)(17,"div",3)(18,"div",4)(19,"h5",5),i(20,"Active Property Unit"),t(),e(21,"p",6),i(22),t()()()(),e(23,"div",2)(24,"div",3)(25,"div",4)(26,"h5",5),i(27,"Today's Revenue"),t(),e(28,"p",6),i(29,"3200 "),t()()()()(),e(30,"div",7)(31,"div",8)(32,"div",9)(33,"div",10),i(34," Clients "),t(),e(35,"div",4)(36,"table",11)(37,"thead")(38,"tr")(39,"th",12),i(40,"No."),t(),e(41,"th",12),i(42,"Property"),t(),e(43,"th",12),i(44,"Client"),t(),e(45,"th",12),i(46,"Mobile"),t(),e(47,"th",12),i(48,"Subscription type"),t(),e(49,"th",12),i(50,"Subscription Due"),t(),e(51,"th",12),i(52,"Login"),t()()(),e(53,"tbody"),_(54,O,15,5,"tr",null,x),t()()()()()()()),a&2){let p,h,u;o(8),d((p=n.dashboardData==null?null:n.dashboardData.totalProperties)!==null&&p!==void 0?p:0),o(7),v(" ",(h=n.dashboardData==null?null:n.dashboardData.totalPropertyUnits)!==null&&h!==void 0?h:0," "),o(7),v(" ",(u=n.dashboardData==null?null:n.dashboardData.activePropertyUnits)!==null&&u!==void 0?u:0," "),o(32),E(n.dashboardData==null?null:n.dashboardData.clients)}},styles:["body[_ngcontent-%COMP%]{background-color:#f8f9fa}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem}.card-header[_ngcontent-%COMP%]{font-weight:700}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}"]});let s=l;return s})();export{B as SuperadminDashboardComponent};

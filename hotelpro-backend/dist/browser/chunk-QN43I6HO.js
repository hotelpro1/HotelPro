import{c as z,e as L,j as V,l as j,u as N,y as G,z as H}from"./chunk-JTMYAVLC.js";import{b as U}from"./chunk-AZK4NKSV.js";import{Ca as f,Da as S,Fb as F,Ib as W,Jb as E,L as D,Lb as B,Ma as c,Mb as R,Na as C,Pa as P,T as v,Ta as w,U as b,Ua as x,Va as k,Xa as O,bb as A,db as I,ea as r,fa as s,na as y,ta as h,tb as u,ua as g,va as _,wa as t,wb as T,xa as i,ya as M}from"./chunk-IHM353DK.js";function Y(o,a){if(o&1&&(t(0,"th"),c(1),A(2,"date"),i()),o&2){let d=a.$implicit;r(),C(I(2,1,d.Date,"dd MMM"))}}function q(o,a){if(o&1&&(t(0,"td",25),c(1),i()),o&2){let d=a.$implicit;r(),C(d.Available)}}function J(o,a){if(o&1&&(t(0,"tr")(1,"td",24),c(2),i(),g(3,q,2,1,"td",25,h),i()),o&2){let d=a.$implicit,l=a.$index,n=S();r(2),P("",d.RoomTypeName," (",d.TotalRoom,")"),r(),_(n.availabilityData==null||n.availabilityData[l]==null?null:n.availabilityData[l].Occupancy)}}var le=(()=>{let a=class a{constructor(l,n,e,m){this.authService=l,this.router=n,this.crudService=e,this.alertService=m,this.Week=2}ngOnInit(){this.userInfo=this.authService.getUserInfo()?.user,console.log(this.userInfo),this.Date=new u("en-US").transform(new Date,"yyyy-MM-dd"),this.Max=new u("en-US").transform(new Date,"yyyy-MM-dd"),this.fetchData()}fetchData(){this.Week<2&&(this.Week=2);let l=new Date(this.Date.replace(/-/g,"/")),n=new Date(l);n.setDate(n.getDate()+this.Week*7),this.crudService.post(E.READ_FUTURE_AVAILABILITY,{propertyUnitId:this.userInfo.propertyUnitId,startDate:l,endDate:n}).then(e=>{this.availabilityData=e.data,console.log(this.availabilityData)}).catch(e=>{this.alertService.errorAlert(e?.error?.message||e.message)})}add(){this.Week+=1}sub(){this.Week>2&&(this.Week-=1)}};a.\u0275fac=function(n){return new(n||a)(s(U),s(F),s(B),s(R))},a.\u0275cmp=D({type:a,selectors:[["app-future-availability"]],standalone:!0,features:[O],decls:36,vars:4,consts:[[1,"p-2",2,"background-color","#f1f8ff"],[1,"mx-3","inline1","mt-4","bg-white"],[1,"col-12","inline","justify-content-center"],[1,"inline1","my-2"],[1,"black_font","mt-2"],[1,"ms-2"],["type","date",1,"form-control",3,"ngModelChange","ngModel","min"],[1,"black_font","mt-2","ms-3"],[1,"input_container","ms-2"],["type","number",1,"input","form-control","field","text-center","hide-spinner",3,"ngModelChange","ngModel","min"],[1,"input_img",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"],[1,"input_img1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dash-circle"],["d","M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"],[1,"ms-3"],[1,"btn","btn-success","button","w-auto",3,"click"],[1,"mx-3","mt-4","inline2","pb-3"],[1,"col-12","pl-0"],["id","scroll",2,"overflow-x","auto","border-right","1px solid rgba(0, 0, 0, 0.1)","max-height","600px !important"],[1,"table-bordered","global_table",2,"overflow-x","hidden !important"],[2,"z-index","101"],["scope","row",1,"text-left",2,"z-index","10"],["scope","row",1,"text-center"]],template:function(n,e){n&1&&(t(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),c(6,"Start Date :"),i(),t(7,"div",5)(8,"input",6),k("ngModelChange",function(p){return x(e.Date,p)||(e.Date=p),p}),i()(),t(9,"div",7),c(10,"Week :"),i(),t(11,"div",8)(12,"input",9),k("ngModelChange",function(p){return x(e.Week,p)||(e.Week=p),p}),i(),t(13,"div",10),f("click",function(){return e.add()}),v(),t(14,"svg",11),M(15,"path",12)(16,"path",13),i()(),b(),t(17,"div",14),f("click",function(){return e.sub()}),v(),t(18,"svg",15),M(19,"path",12)(20,"path",16),i()()(),b(),t(21,"div",17)(22,"button",18),f("click",function(){return e.fetchData()}),c(23," Find "),i()()()()()(),t(24,"div",19)(25,"div",20)(26,"div",21)(27,"table",22)(28,"thead")(29,"th",23),c(30," Room Type "),i(),g(31,Y,3,4,"th",null,h),i(),t(33,"tbody"),g(34,J,5,2,"tr",null,h),i()()()()()()),n&2&&(r(8),w("ngModel",e.Date),y("min",e.Max),r(4),w("ngModel",e.Week),y("min",2),r(19),_(e.availabilityData==null||e.availabilityData[0]==null?null:e.availabilityData[0].Occupancy),r(3),_(e.availabilityData))},dependencies:[G,z,j,L,N,V,T,u,H,W],styles:[".inline[_ngcontent-%COMP%], .inline1[_ngcontent-%COMP%]{display:flex}.black_font[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.input_container[_ngcontent-%COMP%]{position:relative;width:20%}.input_img[_ngcontent-%COMP%], .input_img1[_ngcontent-%COMP%]{bottom:2px;top:6px;width:22px;height:22px;position:absolute;cursor:pointer}.input[_ngcontent-%COMP%]{margin:0}.input_img[_ngcontent-%COMP%]{right:5px}.input_img1[_ngcontent-%COMP%]{left:5px}.hide-spinner[_ngcontent-%COMP%]::-webkit-outer-spin-button, .hide-spinner[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.global_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .global_table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.global_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .global_table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{position:sticky!important;left:0!important;min-width:115px!important;width:115px!important;max-width:115px!important}.global_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background:#fff!important}@media only screen and (max-width: 1100px){.inline[_ngcontent-%COMP%]{display:flex;flex-direction:column}}@media only screen and (max-width: 990px){.black_font[_ngcontent-%COMP%]{font-size:12px;font-weight:500}}@media only screen and (max-width: 590px){.inline1[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input_container[_ngcontent-%COMP%]{width:100%}.black_font[_ngcontent-%COMP%]{font-size:10px;font-weight:500}}"]});let o=a;return o})();export{le as FutureAvailabilityComponent};

import{a as je,b as Pe,c as Ge}from"./chunk-CFB56TVD.js";import{d as Ae}from"./chunk-6N4QSK7X.js";import{b as fe,c as he,d as g,e as xe,f as Ce,j as ye,k as be,l as Se,m as Ee,n as Re,o as Fe,p as Ie,q as Ne,r as we,s as De,w as Ve,x as ke,y as Te,z as Oe}from"./chunk-DKI4PBNW.js";import{b as ge}from"./chunk-3FS5RTN6.js";import{Ba as D,Ca as C,Da as f,Db as B,Fb as ce,Kb as L,L as X,La as W,Ma as a,Mb as _e,Na as O,Nb as ve,Oa as E,R as h,S as x,Sa as ie,Ta as ne,Ua as le,Va as re,Xa as ae,Za as b,a as $,aa as z,b as Q,bb as oe,cb as se,ea as s,eb as U,fa as T,la as y,na as u,nb as me,ob as ue,pb as de,qa as ee,sa as te,tb as G,wa as n,wb as pe,xa as i,ya as v}from"./chunk-W7CJDNGE.js";var S=m=>({"is-invalid":m});function Le(m,p){if(m&1){let r=D();n(0,"a",43),C("click",function(){let l=h(r).openFileSelector;return x(l())}),a(1,"Add "),n(2,"i",44),a(3," file_present"),i()()}}function qe(m,p){m&1&&(n(0,"small",45),a(1,"First Name is required"),i())}function Me(m,p){m&1&&(n(0,"small",45),a(1,"Last Name is required"),i())}function $e(m,p){m&1&&(n(0,"small",45),a(1,"Email is not valid"),i())}function ze(m,p){if(m&1){let r=D();n(0,"div"),v(1,"img",46),n(2,"i",47),C("click",function(){let l=h(r).$implicit,e=f();return x(e.deletePhotos(l,e.groupForm))}),a(3," delete "),i()()}if(m&2){let r=p.$implicit;s(),u("src",r,z)}}function We(m,p){if(m&1&&(n(0,"li",48)(1,"div",8)(2,"div"),a(3),i(),n(4,"div"),a(5),i()()()),m&2){let r,t,l=p.$implicit,e=p.index;u("formGroupName",e),s(3),E(" ",l==null||(r=l.get("roomtype"))==null?null:r.value," "),s(2),E(" ",l==null||(t=l.get("roomCost"))==null?null:t.value," ")}}function Ue(m,p){if(m&1){let r=D();n(0,"a",43),C("click",function(){let l=h(r).openFileSelector;return x(l())}),a(1,"Add "),n(2,"i",44),a(3," file_present"),i()()}}function Be(m,p){if(m&1){let r=D();n(0,"button",65),C("click",function(){h(r);let l=f(3).index,e=f();return x(e.addGuest(l))}),n(1,"i",66),a(2," add "),i(),a(3," Add Guest "),i()}}function Je(m,p){if(m&1){let r=D();n(0,"button",65),C("click",function(){h(r);let l=f().index,e=f(2).index,o=f();return x(o.removeGuest(e,l))}),n(1,"i",66),a(2," remove "),i(),a(3," Remove Guest "),i()}}function Ze(m,p){m&1&&(n(0,"small",45),a(1,"First Name is required"),i())}function Ye(m,p){m&1&&(n(0,"small",45),a(1,"Last Name is required"),i())}function He(m,p){m&1&&(n(0,"small",45),a(1,"Email is not valid"),i())}function Ke(m,p){if(m&1){let r=D();n(0,"div"),v(1,"img",46),n(2,"i",47),C("click",function(){let l=h(r).$implicit,e=f().$implicit,o=f(3);return x(o.deletePhotos(l,e))}),a(3," delete "),i()()}if(m&2){let r=p.$implicit;s(),u("src",r,z)}}function Qe(m,p){if(m&1){let r=D();n(0,"div",57)(1,"div",58)(2,"div",8)(3,"div")(4,"label",30),a(5),i()(),n(6,"div")(7,"div",59)(8,"ngx-file-drop",10),C("onFileDrop",function(l){let e=h(r).$implicit,o=f(3);return x(o.dropped(l,e))}),y(9,Ue,4,0,"ng-template",11),i(),n(10,"div",60)(11,"input",61),C("click",function(l){let e=h(r).$implicit,o=f(3);return x(o.sameAsCustomer(e,l))}),i(),n(12,"label",62),a(13,"Same as Customer"),i()()()()(),v(14,"hr",12),y(15,Be,4,0,"button",63)(16,Je,4,0,"button",63),i(),n(17,"div",13)(18,"label",14),a(19," First Name "),i(),v(20,"input",15),y(21,Ze,2,0,"small",16),i(),n(22,"div",13)(23,"label",14),a(24," Last Name"),i(),v(25,"input",17),y(26,Ye,2,0,"small",16),i(),n(27,"div",13)(28,"label",14),a(29," Phone"),i(),v(30,"input",64),i(),n(31,"div",13)(32,"label",14),a(33," Email"),i(),v(34,"input",19),y(35,He,2,0,"small",16),i(),n(36,"div",13)(37,"label",14),a(38,"Address Line 1"),i(),v(39,"input",20),i(),n(40,"div",13)(41,"label",14),a(42,"Address Line 2"),i(),v(43,"input",21),i(),n(44,"div",13)(45,"label",14),a(46,"City"),i(),v(47,"input",22),i(),n(48,"div",13)(49,"label",14),a(50,"State"),i(),v(51,"input",23),i(),n(52,"div",13)(53,"label",14),a(54,"Country"),i(),v(55,"input",24),i(),n(56,"div",13)(57,"label",14),a(58,"Zip Code"),i(),v(59,"input",25),i(),n(60,"div",26),y(61,Ke,4,1,"div",27),i()()}if(m&2){let r,t,l,e,o,c,_,R,F,I,N,w,k,d=p.$implicit,V=p.index;u("formGroupName",V),s(5),E("Guest Information ",V+1," "),s(10),u("ngIf",V==0),s(),u("ngIf",V>0),s(4),u("ngClass",b(17,S,(((r=d.get("firstName"))==null?null:r.dirty)||((r=d.get("firstName"))==null?null:r.touched))&&((r=d.get("firstName"))==null?null:r.invalid))),s(),u("ngIf",(((t=d.get("firstName"))==null?null:t.dirty)||((t=d.get("firstName"))==null?null:t.touched))&&((t=d.get("firstName"))==null?null:t.invalid)),s(4),u("ngClass",b(19,S,(((l=d.get("lastName"))==null?null:l.dirty)||((l=d.get("lastName"))==null?null:l.touched))&&((l=d.get("lastName"))==null?null:l.invalid))),s(),u("ngIf",(((e=d.get("lastName"))==null?null:e.dirty)||((e=d.get("lastName"))==null?null:e.touched))&&((e=d.get("lastName"))==null?null:e.invalid)),s(4),u("ngClass",b(21,S,(((o=d.get("phone"))==null?null:o.dirty)||((o=d.get("phone"))==null?null:o.touched))&&((o=d.get("phone"))==null?null:o.invalid))),s(4),u("ngClass",b(23,S,(((c=d.get("email"))==null?null:c.dirty)||((c=d.get("email"))==null?null:c.touched))&&((c=d.get("email"))==null?null:c.invalid))),s(),u("ngIf",(((_=d.get("email"))==null?null:_.dirty)||((_=d.get("email"))==null?null:_.touched))&&((_=d.get("email"))==null?null:_.invalid)),s(4),u("ngClass",b(25,S,(((R=d.get("addressLine1"))==null?null:R.dirty)||((R=d.get("addressLine1"))==null?null:R.touched))&&((R=d.get("addressLine1"))==null?null:R.invalid))),s(8),u("ngClass",b(27,S,(((F=d.get("city"))==null?null:F.dirty)||((F=d.get("city"))==null?null:F.touched))&&((F=d.get("city"))==null?null:F.invalid))),s(4),u("ngClass",b(29,S,(((I=d.get("state"))==null?null:I.dirty)||((I=d.get("state"))==null?null:I.touched))&&((I=d.get("state"))==null?null:I.invalid))),s(4),u("ngClass",b(31,S,(((N=d.get("country"))==null?null:N.dirty)||((N=d.get("country"))==null?null:N.touched))&&((N=d.get("country"))==null?null:N.invalid))),s(4),u("ngClass",b(33,S,(((w=d.get("zipCode"))==null?null:w.dirty)||((w=d.get("zipCode"))==null?null:w.touched))&&((w=d.get("zipCode"))==null?null:w.invalid))),s(2),u("ngForOf",(k=d.get("documents"))==null?null:k.value)}}function Xe(m,p){if(m&1&&(n(0,"div",4)(1,"div",54)(2,"div",55),y(3,Qe,62,35,"div",56),i()()()),m&2){let r=f().$implicit,t=f();s(3),u("ngForOf",t.getGuests(r).controls)}}function et(m,p){if(m&1&&(n(0,"option",72),a(1),i()),m&2){let r=p.$implicit;u("value",r.id),s(),E(" ",r.roomName," ")}}function tt(m,p){m&1&&(n(0,"option",69),a(1,"assign"),i())}function it(m,p){if(m&1){let r=D();n(0,"div",28)(1,"div",29)(2,"label",30),a(3,"Room Details"),i(),n(4,"div",31)(5,"label",14),a(6,"Room:"),i(),n(7,"select",67),y(8,et,2,2,"option",68)(9,tt,2,0,"option",69),i(),n(10,"label",70),a(11," Room Price : "),n(12,"span",32),a(13),i()(),v(14,"br"),n(15,"label",14),a(16," Room Cost : "),n(17,"a",71),C("click",function(){h(r);let l=f(),e=l.$implicit,o=l.index,c=f(),_=W(101);return x(c.openUpdateRate(_,e==null?null:e.value,o))}),a(18),i()()()()()}if(m&2){let r,t,l,e=f(),o=e.$implicit,c=e.index,_=f();s(8),u("ngForOf",_.filterRooms(_.roomTypeRooms[(r=o.get("roomTypeId"))==null?null:r.value],c)),s(),te(9,_.isWalkin?-1:9),s(4),E("",o==null||(t=o.get("roomPrice"))==null||t.value==null?null:t.value.toFixed(2)," "),s(5),E(" ",o==null||(l=o.get("roomCost"))==null||l.value==null?null:l.value.toFixed(2)," ")}}function nt(m,p){if(m&1){let r=D();n(0,"div",49)(1,"div",7)(2,"div",50),C("click",function(){let l,e=h(r).$implicit;return x((l=e.get("isDetailsVisiable"))==null?null:l.setValue(!((l=e.get("isDetailsVisiable"))!=null&&l.value)))}),n(3,"h5",30),a(4),i(),n(5,"div")(6,"i",51),a(7," arrow_forward_ios "),i()()(),v(8,"hr",12),i(),y(9,Xe,4,1,"div",52)(10,it,19,4,"div",53),i()}if(m&2){let r,t,l,e,o=p.$implicit,c=p.index,_=f();u("formGroupName",c),s(4),ie(" ",_.isWalkin?"Walk In":"Reservation"," Details of ( ",o==null||(r=o.get("roomtype"))==null?null:r.value,"- ",o==null||(r=o.get("rateName"))==null?null:r.value,") ","Adults/Childs:"+((r=o.get("adultOccupant"))==null?null:r.value)+"/"+((r=o.get("adultOccupant"))==null?null:r.value)," ",((r=o.get("extraAdults"))==null?null:r.value)>0||((r=o.get("extraChilds"))==null?null:r.value)>0?"Extra Adults/Childs:"+((r=o.get("extraAdults"))==null?null:r.value)+"/"+((r=o.get("extraChilds"))==null?null:r.value):""," "),s(2),ee((t=o.get("isDetailsVisiable"))!=null&&t.value?"    rotate: 270deg;":"    rotate: 90deg;"),s(3),u("ngIf",(l=o.get("isDetailsVisiable"))==null?null:l.value),s(),u("ngIf",(e=o.get("isDetailsVisiable"))==null?null:e.value)}}function lt(m,p){if(m&1&&(n(0,"tr")(1,"th",78),a(2),oe(3,"date"),i(),n(4,"td",80),a(5),i()()),m&2){let r=p.$implicit;s(2),O(se(3,2,r.date)),s(3),E(" ",r.baseRate," ")}}function rt(m,p){if(m&1&&(n(0,"tr")(1,"td"),a(2,"Extra Adults"),i(),n(3,"td",80),a(4),i(),n(5,"td",80),a(6),i()()),m&2){let r=f(2);s(4),E(" ",r.updateDateRateObj.extraAdults+"*"+r.updateDateRateObj.dateRate[0].adultRate+"*"+r.updateDateRateObj.dateRate.length+" Night"," "),s(2),E(" ",r.updateDateRateObj.extraAdults*r.updateDateRateObj.dateRate[0].adultRate*r.updateDateRateObj.dateRate.length," ")}}function at(m,p){if(m&1&&(n(0,"tr")(1,"td"),a(2,"Extra Childs"),i(),n(3,"td",80),a(4),i(),n(5,"td",80),a(6),i()()),m&2){let r=f(2);s(4),E(" ",r.updateDateRateObj.extraChilds+"*"+r.updateDateRateObj.dateRate[0].childRate+"*"+r.updateDateRateObj.dateRate.length+" Night"," "),s(2),E(" ",r.updateDateRateObj.extraChilds*r.updateDateRateObj.dateRate[0].childRate*r.updateDateRateObj.dateRate.length," ")}}function ot(m,p){if(m&1){let r=D();n(0,"div",73)(1,"h4",74),a(2,"Rate Update"),i(),n(3,"button",75,2),C("click",function(){let l=h(r).$implicit;return x(l.close(!1))}),i()(),n(5,"div",76)(6,"table",77)(7,"thead")(8,"tr")(9,"th",78),a(10,"DATE"),i(),n(11,"th"),a(12,"ESTIMATED COST"),i()()(),n(13,"tbody"),y(14,lt,6,4,"tr",27)(15,rt,7,2,"tr",79)(16,at,7,2,"tr",79),n(17,"tr")(18,"td",78),a(19),i(),n(20,"td",80),a(21),i()(),n(22,"tr",81)(23,"td",80),a(24),i(),n(25,"td"),a(26,"Total Cost"),i(),n(27,"td",80)(28,"input",82),re("ngModelChange",function(l){h(r);let e=f();return le(e.updateDateRateObj.roomCost,l)||(e.updateDateRateObj.roomCost=l),x(l)}),i()()()()(),n(29,"div",83)(30,"button",84),C("click",function(){h(r);let l=f();return x(l.calculateRate())}),a(31," Calculate "),i(),n(32,"button",85),C("click",function(){let l=h(r).$implicit;return x(l.close(!0))}),a(33,"Save"),i(),n(34,"button",86),C("click",function(){let l=h(r).$implicit;return x(l.close(!1))}),a(35," cancel "),i()()()}if(m&2){let r=f();s(14),u("ngForOf",r.updateDateRateObj.dateRate),s(),u("ngIf",r.updateDateRateObj.extraAdults>0),s(),u("ngIf",r.updateDateRateObj.extraChilds),s(3),E(" Tax Summary(",r.updateDateRateObj.taxPercentage+" %",") "),s(2),E(" ",r.updateDateRateObj.taxPercentage*r.updateDateRateObj.roomPrice/100," "),s(3),E(" Total Price ",r.updateDateRateObj.roomPrice," "),s(4),ne("ngModel",r.updateDateRateObj.roomCost)}}function st(m,p){if(m&1){let r=D();n(0,"div",76)(1,"h6",74),a(2," Are you sure want to countinue without payment ? "),i()(),n(3,"div",87)(4,"button",88),C("click",function(){h(r);let l=f();return x(l.goToPayment())}),a(5," Go to Payment "),i(),n(6,"button",89),C("click",function(){let l=h(r).$implicit;return x(l.close(!1))}),a(7," No "),i(),n(8,"button",88),C("click",function(){let l=h(r).$implicit;return x(l.close(!0))}),a(9," Yes "),i()()}}var bt=(()=>{let p=class p{constructor(t,l,e,o,c,_,R,F){this.fb=t,this.modalService=l,this.crudService=e,this.alertService=o,this.authService=c,this.activeRoute=_,this.router=R,this.route=F,this.propertyUnitId="",this.roomsData=[],this.updateDateRateObj={},this.isWalkin=!1,this.files=[]}ngOnInit(){this.propertyUnitId=this.authService.getUserInfo()?.user?.propertyUnitId,this.isWalkin=this.router.url!="/reservation-info",this.initializeForms(),this.loadData()}initializeForms(){this.reservationForm=this.fb.group({reservations:this.fb.array([])}),this.groupForm=this.fb.group({arrival:[this.formatDate(new Date),g.required],departure:[this.formatDate(new Date),g.required],adults:[2,[g.min(1),g.required]],childs:[0,g.required],totalCost:[0],totalPrice:[0],firstName:["",[g.required,g.minLength(2)]],lastName:["",[g.required,g.minLength(2)]],email:["",[g.email]],phone:[""],addressLine1:[""],addressLine2:[""],country:[""],city:[""],state:["",[g.pattern(/^[A-Za-z\s]+$/)]],zipCode:[""],documents:[]})}loadData(){let t=sessionStorage.getItem("resdata");if(t){let o=JSON.parse(t);this.groupForm.patchValue(o.groupDetails),this.populateReservations(o.reservationDetails),this.roomTypeRooms=o.roomTypeRooms}let l=sessionStorage.getItem("reservationsArray");if(l){let o=JSON.parse(l);this.reservations.clear(),o.forEach(c=>{this.reservations.push(this.createReservation(c))})}let e=sessionStorage.getItem("groupDetails");if(e){let o=JSON.parse(e);this.groupForm.patchValue(o)}}formatDate(t){return new G("en-US").transform(t,"yyyy-MM-dd")}createReservation(t){return this.fb.group({roomTypeId:[t?.roomTypeId||"",g.required],roomId:[t?.roomId||"",g.required],rateplanId:[t?.rateplanId||"",g.required],rateName:[t?.rateName||"",g.required],roomtype:[t?.roomtype||"",g.required],adultOccupant:[t?.adultOccupant||0,g.required],childOccupant:[t?.childOccupant||0],extraAdults:[t?.extraAdults||0],extraChilds:[t?.extraChilds||0],taxPercentage:[t?.taxPercentage||0],roomPrice:[t?.roomPrice||0,g.required],roomCost:[t?.roomCost||0,g.required],images:[t?.images||[]],dateRate:this.fb.array(t?this.createDateRates(t.dateRate):[this.createDateRate()]),guests:this.fb.array(t?.guests?this.createGuests(t.guests):[this.createGuest()]),isDetailsVisiable:[!0]})}createDateRates(t){return t.map(l=>this.createDateRate(l))}createDateRate(t){return this.fb.group({date:[t?.date||"",g.required],baseRate:[t?.baseRate||"",g.required],adultRate:[t?.adultRate||"",g.required],childRate:[t?.childRate||"",g.required]})}createGuests(t){return t.map(l=>this.createGuest(l))}createGuest(t){return this.fb.group({firstName:[t?.firstName||"",g.required],lastName:[t?.lastName||"",g.required],email:[t?.email||"",[g.email]],phone:[t?.phone||""],addressLine1:[t?.addressLine1||""],addressLine2:[t?.addressLine2||""],country:[t?.country||""],city:[t?.city||""],state:[t?.state||""],zipCode:[t?.zipCode||""],isSameAsCustomer:[!1],documents:[]})}populateReservations(t){let l=this.reservationForm.get("reservations");t.forEach(e=>l.push(this.createReservation(e)))}get reservations(){return this.reservationForm.get("reservations")}addReservation(){this.reservations.push(this.createReservation())}getDateRates(t){return t.get("dateRate")}getGuests(t){return t.get("guests")}addGuest(t){this.getGuests(this.reservations.at(t)).push(this.createGuest())}removeGuest(t,l){let e=this.getGuests(this.reservations.at(t));e.length>1&&e.removeAt(l)}sameAsCustomer(t,l){l.target.checked&&t.patchValue(this.groupForm.value)}filterRooms(t,l){return this.reservationForm.get("reservations")?.value.forEach((e,o)=>{l!=o&&(t=t.filter(c=>c.id!=e.roomId))}),t}openUpdateRate(t,l,e){this.updateDateRateObj=$({},l),this.modalService.open(t).result.then(o=>{if(o){let c=this.reservations.at(e).value;this.reservations.at(e).patchValue(this.updateDateRateObj),this.groupForm.controls.totalCost.patchValue(this.groupForm.controls.totalCost.value-c.roomCost+this.updateDateRateObj.roomCost),this.groupForm.controls.totalPrice.patchValue(this.groupForm.controls.totalPrice.value-c.roomPrice+this.updateDateRateObj.roomPrice)}})}calculateRate(){this.updateDateRateObj.roomPrice=Math.round(this.updateDateRateObj.roomCost/1.11*100)/100;let t=Math.round(this.updateDateRateObj.roomPrice/this.updateDateRateObj.dateRate.length*100)/100;this.updateDateRateObj.dateRate.forEach(l=>{l.baseRate=t})}goToPayment(){sessionStorage.setItem("reservationsArray",JSON.stringify(this.reservationForm.get("reservations")?.value)),sessionStorage.setItem("groupDetails",JSON.stringify(this.groupForm.value)),this.isWalkin?this.router.navigate(["/walkin-payment"]):this.router.navigate(["/reservation-payment"]),this.modalService.dismissAll()}onReserve(t){this.modalService.open(t).result.then(l=>{if(l){let e={propertyUnitId:this.propertyUnitId,reservationsArray:this.reservationForm.get("reservations")?.value,groupDetails:Q($({},this.groupForm.value),{totalTax:this.groupForm.get("totalCost")?.value-this.groupForm.get("totalPrice")?.value,totalBalance:-this.groupForm.get("totalCost")?.value,totalPayment:0,totalDeposit:0}),isWalkin:this.isWalkin};this.crudService.post(L.CREATE_RESERVATION,e).then(o=>{console.log(o),this.alertService.successAlert(`${this.isWalkin?"Walkin":"Reservation"} created successfully`),this.router.navigate(["/guest-folio/"+o?.data?._id])}).catch(o=>{this.alertService.errorAlert(o?.error?.message||"An error occurred"),console.error(o)})}})}dropped(t,l){this.files=t;let e=new FormData;for(let o of t)if(o.fileEntry.isFile)o.fileEntry.file(_=>{this.validateImageFile(_)?e.append("uploadedImages",_,o.relativePath):this.alertService.errorAlert(`Invalid file: ${_.name}. Only image files under 3 MB are allowed.`),t.indexOf(o)===t.length-1&&(e.has("uploadedImages")?this.uploadPhotos(e,l):this.alertService.errorAlert("No valid image files to upload."))});else{let c=o.fileEntry;console.log(o.relativePath,c)}}validateImageFile(t){return["image/jpeg","image/png","image/gif","image/webp"].includes(t.type)&&t.size<=3145728}uploadPhotos(t,l){this.crudService.post(L.UPLOAD_RESERVATION_IMAGES,t).then(e=>{if(console.log(e),e?.data?.images?.length){let o=l.get("documents")?.value?l.get("documents")?.value:[];l.patchValue({documents:[...o,...e?.data?.images]})}}).catch(e=>{this.alertService.errorAlert(e?.error?.message||"An error occurred"),console.error(e)})}deletePhotos(t,l){this.crudService.post(L.DELETE_RESERVATION_IMAGES,{imageUrl:t}).then(e=>{let c=(l.get("documents")?.value?l.get("documents")?.value:[]).filter(_=>_!==t);l.patchValue({documents:c})}).catch(e=>{this.alertService.errorAlert(e?.error?.message||"An error occurred "),console.error(e)})}fileOver(t){console.log(t)}fileLeave(t){console.log(t)}};p.\u0275fac=function(l){return new(l||p)(T(ke),T(Ae),T(_e),T(ve),T(ge),T(B),T(ce),T(B))},p.\u0275cmp=X({type:p,selectors:[["app-reservation-info"]],standalone:!0,features:[ae],decls:104,vars:47,consts:[["RateUpdate",""],["confirmReservation",""],["closeButton",""],[1,"m-3","row","g-0"],[1,"col-9"],[1,"container_form","p-3","m-2","rounded",3,"formGroup"],[1,"row","row-cols-1","row-cols-md-2"],[1,"col-md-12"],[1,"d-flex","justify-content-between"],[1,"form-label","fs-3","fw-semibold"],["dropZoneClassName","my-style","contentClassName","my-style",3,"onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"m-0"],[1,"col","mt-3"],[1,"form-label"],["type","text","formControlName","firstName","placeholder","Enter  First Name",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","text","formControlName","lastName","placeholder","Enter  Last Name",1,"form-control",3,"ngClass"],["type","tel","formControlName","phone","placeholder","Enter  Phone","maxlength","10",1,"form-control",3,"ngClass"],["type","text","formControlName","email","placeholder","Enter  Email",1,"form-control",3,"ngClass"],["type","text","formControlName","addressLine1","placeholder","Enter Address Line 1",1,"form-control",3,"ngClass"],["type","text","formControlName","addressLine2","placeholder","Enter Address Line 2",1,"form-control"],["type","text","formControlName","city","placeholder","Enter City",1,"form-control",3,"ngClass"],["type","text","formControlName","state","placeholder","Enter State",1,"form-control",3,"ngClass"],["type","text","formControlName","country","placeholder","Enter Country",1,"form-control",3,"ngClass"],["type","text","formControlName","zipCode","placeholder","Enter Zip Code",1,"form-control",3,"ngClass"],[1,"col","d-flex","mt-3"],[4,"ngFor","ngForOf"],[1,"col-3"],[1,"card","container_form","p-3","m-2","rounded"],[1,"form-label","fw-semibold"],[1,"card-body"],[1,"fw-semibold"],[3,"formGroup"],["formArrayName","reservations",1,"list-group","list-group-flush"],["class","list-group-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-label","w-100"],[1,"",3,"formGroup"],["formArrayName","reservations"],["class","m-3 row g-0",3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mb-2"],[1,"btn","btn-primary","mt-2","me-2",3,"click","disabled"],[1,"btn","btn-primary","mt-2","ms-2",3,"click","disabled"],[1,"card-link",2,"cursor","pointer",3,"click"],[1,"material-symbols-rounded",2,"font-size","20px"],[1,"text-danger"],["alt","img",2,"height","100px","width","100px",3,"src"],[1,"material-symbols-rounded","text-danger","pt-2",3,"click"],[1,"list-group-item",3,"formGroupName"],[1,"m-3","row","g-0",3,"formGroupName"],[1,"d-flex","justify-content-between","container_form","p-3","m-2","rounded",2,"cursor","pointer",3,"click"],[1,"material-symbols-rounded","ms-2"],["class","col-9",4,"ngIf"],["class","col-3",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-2","container_form","p-3","m-2","rounded"],["formArrayName","guests",1,"col-md-12"],["class","row row-cols-1 row-cols-md-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","row-cols-1","row-cols-md-2",3,"formGroupName"],[1,"col-md-12","mt-2"],[1,"d-flex","ms-2"],[1,"form-check","ms-2"],["type","checkbox","formControlName","isSameAsCustomer",1,"form-check-input",3,"click"],[1,"form-check-label"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["type","text","formControlName","phone","placeholder","Enter  Phone","maxlength","10",1,"form-control",3,"ngClass"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"material-symbols-rounded",2,"vertical-align","middle"],["formControlName","roomId",1,"form-control",2,"appearance","auto"],[3,"value",4,"ngFor","ngForOf"],["value","assign"],[1,"form-label","mt-2"],[1,"link",3,"click"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table"],["colspan","2"],[4,"ngIf"],[1,"text-center"],[2,"vertical-align","middle"],["type","number",1,"form-control","custom_input","text_center","rate_input",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","pb-3"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","light_button","button","ml-2",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(l,e){if(l&1){let o=D();n(0,"div",3)(1,"div",4)(2,"form",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"p",9),a(7,"Customer Details"),i(),n(8,"ngx-file-drop",10),C("onFileDrop",function(_){return h(o),x(e.dropped(_,e.groupForm))}),y(9,Le,4,0,"ng-template",11),i()(),v(10,"hr",12),i(),n(11,"div",13)(12,"label",14),a(13," First Name*"),i(),v(14,"input",15),y(15,qe,2,0,"small",16),i(),n(16,"div",13)(17,"label",14),a(18," Last Name*"),i(),v(19,"input",17),y(20,Me,2,0,"small",16),i(),n(21,"div",13)(22,"label",14),a(23," Phone"),i(),v(24,"input",18),i(),n(25,"div",13)(26,"label",14),a(27," Email"),i(),v(28,"input",19),y(29,$e,2,0,"small",16),i(),n(30,"div",13)(31,"label",14),a(32,"Address Line 1"),i(),v(33,"input",20),i(),n(34,"div",13)(35,"label",14),a(36,"Address Line 2"),i(),v(37,"input",21),i(),n(38,"div",13)(39,"label",14),a(40,"City"),i(),v(41,"input",22),i(),n(42,"div",13)(43,"label",14),a(44,"State"),i(),v(45,"input",23),i(),n(46,"div",13)(47,"label",14),a(48,"Country"),i(),v(49,"input",24),i(),n(50,"div",13)(51,"label",14),a(52,"Zip Code"),i(),v(53,"input",25),i(),n(54,"div",26),y(55,ze,4,1,"div",27),i()()()(),n(56,"div",28)(57,"div",29)(58,"label",30),a(59),i(),n(60,"div",31)(61,"label",14),a(62," CheckIn Date : "),n(63,"span",32),a(64),i()(),n(65,"label",14),a(66," CheckOut Date : "),n(67,"span",32),a(68),i()(),n(69,"label",14),a(70," Adults: "),n(71,"span",32),a(72),i(),a(73," Childs: "),n(74,"span",32),a(75),i()()(),n(76,"form",33)(77,"ul",34),y(78,We,6,3,"li",35),i()(),n(79,"div",31)(80,"label",36),a(81," Total Price : "),n(82,"span",32),a(83),i()(),n(84,"label",36),a(85," Total Tax : "),n(86,"span",32),a(87),i()(),n(88,"label",14),a(89," Total Cost : "),n(90,"span",32),a(91),i()()()()()(),n(92,"form",37)(93,"div",38),y(94,nt,11,10,"div",39),i()(),n(95,"div",40)(96,"button",41),C("click",function(){h(o);let _=W(103);return x(e.onReserve(_))}),a(97),i(),n(98,"button",42),C("click",function(){return h(o),x(e.goToPayment())}),a(99," Payment "),i()(),y(100,ot,36,7,"ng-template",null,0,U)(102,st,10,0,"ng-template",null,1,U)}if(l&2){let o,c,_,R,F,I,N,w,k,d,V,A,J,Z,Y,H,K,q,j,P,M;s(2),u("formGroup",e.groupForm),s(12),u("ngClass",b(29,S,(((o=e.groupForm.get("firstName"))==null?null:o.dirty)||((o=e.groupForm.get("firstName"))==null?null:o.touched))&&((o=e.groupForm.get("firstName"))==null?null:o.invalid))),s(),u("ngIf",(((c=e.groupForm.get("firstName"))==null?null:c.dirty)||((c=e.groupForm.get("firstName"))==null?null:c.touched))&&((c=e.groupForm.get("firstName"))==null?null:c.invalid)),s(4),u("ngClass",b(31,S,(((_=e.groupForm.get("lastName"))==null?null:_.dirty)||((_=e.groupForm.get("lastName"))==null?null:_.touched))&&((_=e.groupForm.get("lastName"))==null?null:_.invalid))),s(),u("ngIf",(((R=e.groupForm.get("lastName"))==null?null:R.dirty)||((R=e.groupForm.get("lastName"))==null?null:R.touched))&&((R=e.groupForm.get("lastName"))==null?null:R.invalid)),s(4),u("ngClass",b(33,S,(((F=e.groupForm.get("phone"))==null?null:F.dirty)||((F=e.groupForm.get("phone"))==null?null:F.touched))&&((F=e.groupForm.get("phone"))==null?null:F.invalid))),s(4),u("ngClass",b(35,S,(((I=e.groupForm.get("email"))==null?null:I.dirty)||((I=e.groupForm.get("email"))==null?null:I.touched))&&((I=e.groupForm.get("email"))==null?null:I.invalid))),s(),u("ngIf",(((N=e.groupForm.get("email"))==null?null:N.dirty)||((N=e.groupForm.get("email"))==null?null:N.touched))&&((N=e.groupForm.get("email"))==null?null:N.invalid)),s(4),u("ngClass",b(37,S,(((w=e.groupForm.get("addressLine1"))==null?null:w.dirty)||((w=e.groupForm.get("addressLine1"))==null?null:w.touched))&&((w=e.groupForm.get("addressLine1"))==null?null:w.invalid))),s(8),u("ngClass",b(39,S,(((k=e.groupForm.get("city"))==null?null:k.dirty)||((k=e.groupForm.get("city"))==null?null:k.touched))&&((k=e.groupForm.get("city"))==null?null:k.invalid))),s(4),u("ngClass",b(41,S,(((d=e.groupForm.get("state"))==null?null:d.dirty)||((d=e.groupForm.get("state"))==null?null:d.touched))&&((d=e.groupForm.get("state"))==null?null:d.invalid))),s(4),u("ngClass",b(43,S,(((V=e.groupForm.get("country"))==null?null:V.dirty)||((V=e.groupForm.get("country"))==null?null:V.touched))&&((V=e.groupForm.get("country"))==null?null:V.invalid))),s(4),u("ngClass",b(45,S,(((A=e.groupForm.get("zipCode"))==null?null:A.dirty)||((A=e.groupForm.get("zipCode"))==null?null:A.touched))&&((A=e.groupForm.get("zipCode"))==null?null:A.invalid))),s(2),u("ngForOf",(J=e.groupForm.get("documents"))==null?null:J.value),s(4),E(" ",e.isWalkin?"Walk In":"Reservation"," Summary"),s(5),O((Z=e.groupForm.get("arrival"))==null?null:Z.value),s(4),O((Y=e.groupForm.get("departure"))==null?null:Y.value),s(4),O((H=e.groupForm.get("adults"))==null?null:H.value),s(3),O((K=e.groupForm.get("childs"))==null?null:K.value),s(),u("formGroup",e.reservationForm),s(2),u("ngForOf",e.reservations.controls),s(5),O((q=e.groupForm.get("totalPrice"))==null||q.value==null?null:q.value.toFixed(2)),s(4),O((((j=e.groupForm.get("totalCost"))==null?null:j.value)||0-((P=e.groupForm.get("totalPrice"))==null?null:P.value)||0)==null?null:(((j=j)==null?null:j.value)||0-((P=P)==null?null:P.value)||0).toFixed(2)),s(4),O((M=e.groupForm.get("totalCost"))==null||M.value==null?null:M.value.toFixed(2)),s(),u("formGroup",e.reservationForm),s(2),u("ngForOf",e.reservations.controls),s(2),u("disabled",e.groupForm.invalid||e.reservationForm.invalid),s(),E(" ",e.isWalkin?"Check In":"Reserve"," "),s(),u("disabled",e.groupForm.invalid||e.reservationForm.invalid)}},dependencies:[Te,be,we,De,he,Se,fe,Ne,xe,Ce,Ve,ye,Oe,Ee,Ie,Re,Fe,pe,me,ue,de,G,Ge,Pe,je]});let m=p;return m})();export{bt as ReservationInfoComponent};

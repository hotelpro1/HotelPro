import{c as U,e as z,j as V,l as j,u as N,y as G,z as H}from"./chunk-HSWBAXOQ.js";import{b as R}from"./chunk-SGZRKXDW.js";import{Da as f,Ea as S,Gb as W,Kb as F,Lb as E,M as k,Na as p,Nb as B,Oa as C,Ob as L,Qa as P,U as v,Ua as w,V as y,Va as x,Wa as D,Ya as O,cb as A,eb as I,fa as c,ga as s,oa as b,ua as h,ub as u,va as g,wa as _,xa as e,xb as T,ya as i,za as M}from"./chunk-OZVGGEGK.js";function Y(o,a){if(o&1&&(e(0,"th"),p(1),A(2,"date"),i()),o&2){let m=a.$implicit;c(),C(I(2,1,m.Date,"dd MMM"))}}function q(o,a){if(o&1&&(e(0,"td",25),p(1),i()),o&2){let m=a.$implicit;c(),C(m.Available)}}function J(o,a){if(o&1&&(e(0,"tr")(1,"td",24),p(2),i(),g(3,q,2,1,"td",25,h),i()),o&2){let m=a.$implicit,r=a.$index,n=S();c(2),P("",m.RoomTypeName," (",m.TotalRoom,")"),c(),_(n.availabilityData==null||n.availabilityData[r]==null?null:n.availabilityData[r].Occupancy)}}var lt=(()=>{let a=class a{constructor(r,n,t,d){this.authService=r,this.router=n,this.crudService=t,this.alertService=d,this.Week=2}ngOnInit(){this.userInfo=this.authService.getUserInfo()?.user,console.log(this.userInfo),this.Date=new u("en-US").transform(new Date,"yyyy-MM-dd"),this.Max=new u("en-US").transform(new Date,"yyyy-MM-dd"),this.fetchData()}fetchData(){this.Week<2&&(this.Week=2),this.Week>52&&(this.Week=52);let r=new Date(this.Date.replace(/-/g,"/")),n=new Date(r);n.setDate(n.getDate()+this.Week*7);let t=r.toLocaleDateString("en-CA"),d=n.toLocaleDateString("en-CA");this.crudService.post(E.READ_FUTURE_AVAILABILITY,{propertyUnitId:this.userInfo.propertyUnitId,startDate:t,endDate:d}).then(l=>{this.availabilityData=l.data,console.log(this.availabilityData)}).catch(l=>{this.alertService.errorAlert(l?.error?.message||l.message)})}add(){this.Week+=1}sub(){this.Week>2&&(this.Week-=1)}};a.\u0275fac=function(n){return new(n||a)(s(R),s(W),s(B),s(L))},a.\u0275cmp=k({type:a,selectors:[["app-future-availability"]],standalone:!0,features:[O],decls:36,vars:4,consts:[[1,"p-2",2,"background-color","#f1f8ff"],[1,"mx-3","inline1","mt-4","bg-white"],[1,"col-12","inline","justify-content-center"],[1,"inline1","my-2"],[1,"black_font","mt-2"],[1,"ms-2"],["type","date",1,"form-control",3,"ngModelChange","ngModel","min"],[1,"black_font","mt-2","ms-3"],[1,"input_container","ms-2"],["type","number",1,"input","form-control","field","text-center","hide-spinner",3,"ngModelChange","ngModel","min"],[1,"input_img",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"],[1,"input_img1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dash-circle"],["d","M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"],[1,"ms-3"],[1,"btn","btn-success","button","w-auto",3,"click"],[1,"mx-3","mt-4","inline2","pb-3"],[1,"col-12","pl-0"],["id","scroll",2,"overflow-x","auto","border-right","1px solid rgba(0, 0, 0, 0.1)","max-height","600px !important"],[1,"table-bordered","global_table",2,"overflow-x","hidden !important"],[2,"z-index","101"],["scope","row",1,"text-left",2,"z-index","10"],["scope","row",1,"text-center"]],template:function(n,t){n&1&&(e(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),p(6,"Start Date :"),i(),e(7,"div",5)(8,"input",6),D("ngModelChange",function(l){return x(t.Date,l)||(t.Date=l),l}),i()(),e(9,"div",7),p(10,"Week :"),i(),e(11,"div",8)(12,"input",9),D("ngModelChange",function(l){return x(t.Week,l)||(t.Week=l),l}),i(),e(13,"div",10),f("click",function(){return t.add()}),v(),e(14,"svg",11),M(15,"path",12)(16,"path",13),i()(),y(),e(17,"div",14),f("click",function(){return t.sub()}),v(),e(18,"svg",15),M(19,"path",12)(20,"path",16),i()()(),y(),e(21,"div",17)(22,"button",18),f("click",function(){return t.fetchData()}),p(23," Find "),i()()()()()(),e(24,"div",19)(25,"div",20)(26,"div",21)(27,"table",22)(28,"thead")(29,"th",23),p(30," Room Type "),i(),g(31,Y,3,4,"th",null,h),i(),e(33,"tbody"),g(34,J,5,2,"tr",null,h),i()()()()()()),n&2&&(c(8),w("ngModel",t.Date),b("min",t.Max),c(4),w("ngModel",t.Week),b("min",2),c(19),_(t.availabilityData==null||t.availabilityData[0]==null?null:t.availabilityData[0].Occupancy),c(3),_(t.availabilityData))},dependencies:[G,U,j,z,N,V,T,u,H,F],styles:[".inline[_ngcontent-%COMP%], .inline1[_ngcontent-%COMP%]{display:flex}.black_font[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.input_container[_ngcontent-%COMP%]{position:relative;width:20%}.input_img[_ngcontent-%COMP%], .input_img1[_ngcontent-%COMP%]{bottom:2px;top:6px;width:22px;height:22px;position:absolute;cursor:pointer}.input[_ngcontent-%COMP%]{margin:0}.input_img[_ngcontent-%COMP%]{right:5px}.input_img1[_ngcontent-%COMP%]{left:5px}.hide-spinner[_ngcontent-%COMP%]::-webkit-outer-spin-button, .hide-spinner[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.global_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .global_table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.global_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .global_table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{position:sticky!important;left:0!important;min-width:115px!important;width:115px!important;max-width:115px!important}.global_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background:#fff!important}@media only screen and (max-width: 1100px){.inline[_ngcontent-%COMP%]{display:flex;flex-direction:column}}@media only screen and (max-width: 990px){.black_font[_ngcontent-%COMP%]{font-size:12px;font-weight:500}}@media only screen and (max-width: 590px){.inline1[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input_container[_ngcontent-%COMP%]{width:100%}.black_font[_ngcontent-%COMP%]{font-size:10px;font-weight:500}}"]});let o=a;return o})();export{lt as FutureAvailabilityComponent};
